# mery-scripts
高見知英作のMeryスクリプト集

 * MeryWiki - http://www.haijin-boys.com/wiki/

# スクリプトの説明

## FileExecutor
開いているファイルをFileExecutorで実行する。FileExecutorは↓

 * https://github.com/TakamiChie/EditorSupportTools/tree/master/FileExecutor

もしファイルが未保存であった場合、一時ファイルとしてファイルを保存して実行します。

## SyntaxChecker(構文チェック)
開いているファイルを構文チェックし、エラーがあれば該当行にブックマークを貼り付ける。随時対応形式は拡張予定。

もしファイルが未保存であった場合、一時ファイルとしてファイルを保存して実行します。

## SearchWithMode(言語について検索)

現在開いているファイルの言語(編集モード)の名前＋選択した単語でGoogle検索をします。スクリプトの関数名検索などに使うといいです。

## CommandRunner(コマンドを実行)

ファイルを保存する時に、先頭行のコマンドを読み取り、実行・Meryのアウトプットウィンドウやファイルに結果を出力するプラグインです。

たとえばlesscssの場合、lessファイルの先頭に以下のような文を記載します。

```
// ** run:lessc
// ** args:"$1"
// ** out:file
// ** outfile:$dn1\$fnwe1.css

/* 以下コード */
```

このような記載があった場合、ファイルを保存すると自動的にlesscコマンドでコンパイルし、結果を同名のCSSファイルに保存します。

### プラグインがサポートしているコマンド
行中に「**」と書かれている行をコマンド行とみなします。

 * run:実行コマンドを指定します。必ず指定する必要があります。
 * args:実行コマンドの引数を指定します。以下の展開変数が利用可能です。
 * out:実行結果の出力先を指定します。consoleまたはfileのみが利用可能です。
 * outfile:outコマンドがfileのときに出力されるファイル名を指定します。展開変数が利用可能です。
 * console:コンソールに文を出力します。展開変数が利用可能です。

### 展開変数

args, outfile, consoleコマンドでは以下の展開変数が利用可能です。

 * $1:現在開いているファイルのパス
 * $dn1:現在開いているファイルのディレクトリパス
 * $fn1:現在開いているファイルのファイル名および拡張子
 * $ex1:現在開いているファイルの拡張子
 * $fnwe1:現在開いているファイルのファイル名(拡張子無し)

なお、outfile等のコマンドに指定した値が実際に期待した値になっているかどうかを確認する方法は用意していません。
変数が展開されているかどうかを確認したい場合は、console:コマンドなどを利用してください。

## msyフォルダ

編集モード定義ファイルを格納しています。Meryの編集モードにインポートして使うと便利です。

### re-view.msy

Re:VIEW用の編集モードファイルです。編集モードの名称は、「Re:VIEW」にしておくことをお勧めします(FileExecutorで近日中に対応予定のため)
